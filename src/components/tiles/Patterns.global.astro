---
import type { HTMLAttributes } from 'astro/types'

import { urlIdCollection } from '@/libs/server/urlid'

export const patterns = urlIdCollection(
	{
		grid: 'grid',
		corner1: 'corner1',
		corner2: 'corner2',
		cross: 'cross',
	},
	'pattern',
)

export const patternIds = Object.values(patterns)

const octaves = 1,
	commonAttributes = {
		width: `${100 / octaves}%`,
		height: `${100 / octaves}%`,
		viewBox: '0 0 10 10',
	} as HTMLAttributes<'pattern'>
---

<svg
	xmlns="http://www.w3.org/2000/svg"
	fill="none"
	stroke-width=".12em"
	stroke="#000"
	stroke-linecap="square"
>
	<defs>
		<pattern id={patterns.grid.id} {...commonAttributes}>
			<path d="M5,0v10 M0,5h10"></path>
		</pattern>
		<pattern id={patterns.corner1.id} {...commonAttributes}>
			<circle cx="0" cy="0" r="5"></circle>
			<circle cx="10" cy="10" r="5"></circle>
		</pattern>
		<pattern id={patterns.corner2.id} {...commonAttributes}>
			<circle cx="0" cy="10" r="5"></circle>
			<circle cx="10" cy="0" r="5"></circle>
		</pattern>
		<pattern id={patterns.cross.id} {...commonAttributes}>
			<circle cx="0" cy="0" r="5"></circle>
			<circle cx="10" cy="10" r="5"></circle>
			<circle cx="0" cy="10" r="5"></circle>
			<circle cx="10" cy="0" r="5"></circle>
		</pattern>
	</defs>
</svg>
